overrides:
  ceph:
    log-ignorelist:
      - Telemetry requires re-opt-in
      - telemetry module includes new collections
  conf:
    osd:
      #set config option for which cls modules are allowed to be loaded / used
      osd_class_load_list: "*"
      osd_class_default_list: "*"
tasks:
- install:
    branch: reef
    exclude_packages:
      - ceph-volume
- print: "**** done install task..."

- print: "**** done start telemetry reef..."
- workunit:
    clients:
      client.0:
        - echo "dummy telemery job start on client.0"
- print: "**** done end telemetry reef..."

- print: "**** done start parallel"
- parallel:
    - workload
    - upgrade-sequence
- print: "**** done end parallel"

- print: "**** done start telemetry x..."
- workunit:
    clients:
      client.0:
        - echo "dummy telemery job start on client.0"
- print: "**** done end telemetry x..."
